!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=1)}({"0spE":function(e,t){function a(){$.ajax({type:"GET",url:"/api",dataType:"JSON",success:function(e){var t=r(e.data);$("#tableResult").html(t)},error:function(e){}})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"table-hover",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";if(Array.isArray(e)&&0!==e.length){r='<table class="table '+t+'">            <thead>            <tr>                <th>ID</th>                <th>Url</th>                <th>Short</th>                <th>Click</th>            </tr>            </thead>';for(var n=0;n<e.length;n++){var s=$('meta[name="website"]').attr("content")+"/"+e[n].shortUrl,o=e[n].url;!0===a&&o.length>80&&(o=o.substring(0,80)+"..."),r+="<tr><td>"+e[n].id+"</td><td><a href='"+s+"' target='_blank'>"+o+"</a></td><td><a href='"+s+"' target='_blank'>"+e[n].shortUrl+"</a></td><td class='text-center'>"+e[n].click+"</td></tr>"}r+="</table>"}else r+="<tr><td colspan='100' class='text-center'>There's currently no data to display...</td></tr>";return r}$("#generate").on("click",function(){disableButton($("#generate")),alert.html("");var e=$("#url");0===e.val().length?setAlert(generateAlert("warning","You must enter a url before we can generate it for you...")):$.ajax({type:"POST",data:{url:e.val()},url:"/api",success:function(t){!1===t.error?($("#short").html("<a href='"+t.href+"' target='_blank'>"+t.href+"</a>"),e.val(""),$("#generatedLinkModal").modal("show"),a()):(clearAlert(),setAlert(generateAlert("danger",t.message)))},error:function(){setAlert(generateAlert("danger","Something went wrong... Please try again."))}})}),$(document).ready(function(){a(),setInterval(function(){a()},3e4)}),$("#searchBtn").on("click",function(){var e=$("#search");disableButton($("#searchBtn")),$.ajax({type:"POST",url:"/api/search",data:{search:e.val(),_token:$('meta[name="csrf-token"]').attr("content")},dataType:"JSON",success:function(t){var a=r(t.data,"table-hover",!0);$("#searchResultTable").html(a),$("#searchResultModal").modal("show"),e.val("")},error:function(e){clearAlert(),void 0===e.responseText?setAlert(generateAlert("danger","Something went wrong. Please try again :(")):setAlert(generateAlert("danger",JSON.parse(e.responseText).message))},fail:function(e){setAlert(generateAlert("warning",e.message))}})})},1:function(e,t,a){a("0spE"),e.exports=a("DnEy")},DnEy:function(e,t){var a=$(".alert");function r(){a.html("")}function n(e){a.append(e),setTimeout(function(){r()},3e3)}function s(e,t){return'<div class="alert alert-'+e+'" role="alert">'+t+'<button type="button" class="close" data-dismiss="alert" aria-label="Close">    <span aria-hidden="true">&times;</span></button></div>'}r(),$("#validate").on("click",function(){r(),$("#loginForm").find("*").removeClass("is-invalid");var e=$("#username"),t=$("#password"),a=[];0===e.val().length&&a.push({username:"Username can't be empty"}),0===t.val().length&&a.push({password:"Password can't be empty"}),a.length>0&&a.forEach(function(a){void 0!==a.username&&(e.addClass("is-invalid"),n(s("danger",a.username))),void 0!==a.password&&(t.addClass("is-invalid"),n(s("danger",a.password)))})}),$(".deleteBan").on("click",function(){var e=$(this).data("id"),t=$(this).data("href"),a=$(this);confirm("Are you sure you want to delete this ban ("+e+")?")&&($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"DELETE",data:{id:e},dataType:"JSON",url:t,success:function(t){a.removeClass("btn-success"),a.removeClass("btn-danger"),$('.urlBans[data-ip="'+t.value.ip+'"]').html("<a href='"+t.value.url+"' class='btn btn-danger w-100'><i class='fas fa-user-slash'></i></a>"),$(".bansTable").find("tr[data-id='"+e+"']").html(""),n(s("success",t.message))},error:function(e){n(s("danger",JSON.parse(e.responseText).message))}}))}),$(".deleteUrl").on("click",function(){var e=$(this).data("id"),t=$(this).data("href"),a=$(this);confirm("Are you sure you want to delete this url ("+e+")?")&&($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"DELETE",data:{id:e},dataType:"JSON",url:t,success:function(t){a.removeClass("btn-success"),a.removeClass("btn-danger"),$(".urlTable").find("tr[data-id='"+e+"']").html(""),n(s("success",t.message))},error:function(e){n(s("danger",JSON.parse(e.responseText).message))}}))}),$(".submitForm").on("click",function(){var e=$("form");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var t=new FormData(e[0]);t.append("_method",e.attr("method")),$.ajax({type:"POST",url:e.attr("action"),data:t,processData:!1,contentType:!1,success:function(e){n(s("success",e.message))},error:function(e){n(s("danger",JSON.parse(e.responseText).message))}})}),$(".deleteForbidden").on("click",function(){var e=$(this).data("id"),t=$(this).data("href"),a=$(this).data("keyword"),r=$(this);confirm("Are you sure you want to delete the keyword ["+a+"]?")&&($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"DELETE",data:{id:e},dataType:"JSON",url:t,success:function(t){r.removeClass("btn-success"),r.removeClass("btn-danger"),$(".forbiddenTable").find("tr[data-id='"+e+"']").html(""),n(s("success",t.message))},error:function(e){n(s("danger",JSON.parse(e.responseText).message))}}))})}});